// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package server

import (
	"techunicorn.com/udc-core/prototodo/pkg/app/server/handlers"
	"techunicorn.com/udc-core/prototodo/pkg/domain/domains/quotes"
	"techunicorn.com/udc-core/prototodo/pkg/domain/domains/tasks"
	"techunicorn.com/udc-core/prototodo/pkg/infra/config"
	"techunicorn.com/udc-core/prototodo/pkg/infra/impls/evcqrs"
	"techunicorn.com/udc-core/prototodo/pkg/infra/impls/evcqrs/repos"
	"techunicorn.com/udc-core/prototodo/pkg/infra/impls/inmem"
	repos2 "techunicorn.com/udc-core/prototodo/pkg/infra/impls/inmem/repos"
	"techunicorn.com/udc-core/prototodo/pkg/infra/lgr"
	"techunicorn.com/udc-core/prototodo/pkg/infra/psqldb"
	"techunicorn.com/udc-core/prototodo/pkg/infra/redisdb"
	"techunicorn.com/udc-core/prototodo/pkg/infra/snowflake"
	"techunicorn.com/udc-core/prototodo/pkg/infra/trace"
	"techunicorn.com/udc-core/prototodo/pkg/infra/trace/appinsights"
	"techunicorn.com/udc-core/prototodo/pkg/infra/trace/jaeger"
	"techunicorn.com/udc-core/prototodo/pkg/infra/trace/promex"
)

// Injectors from wire.go:

// InitializeEvent creates an Event. It will error if the Event is staffed with
// a grumpy greeter.
func initializeAppCQRS() (*app, error) {
	loggerFactory, err := lgr.NewLoggerFactory()
	if err != nil {
		return nil, err
	}
	initializer := config.NewInitializer(loggerFactory)
	exporterOptions := config.NewAppInsightsExporterOptions(initializer)
	traceExporter, err := appinsights.NewTraceExporter(exporterOptions)
	if err != nil {
		return nil, err
	}
	jaegerExporterOptions := config.NewJaegerExporterOptions(initializer)
	jaegerTraceExporter, err := jaeger.NewJaegerTraceExporter(jaegerExporterOptions)
	if err != nil {
		return nil, err
	}
	promexTraceExporter, err := promex.NewTraceExporter()
	if err != nil {
		return nil, err
	}
	exporterList := evcqrs.NewTraceExporterList(traceExporter, jaegerTraceExporter, promexTraceExporter, loggerFactory)
	options, err := config.NewTraceOptions(initializer)
	if err != nil {
		return nil, err
	}
	tracer, err := trace.NewTracer(exporterList, options, loggerFactory)
	if err != nil {
		return nil, err
	}
	databaseOptions := config.NewPSQLDBOptions(initializer)
	tracedDB, err := psqldb.NewDatabaseContext(tracer, databaseOptions)
	if err != nil {
		return nil, err
	}
	baseDataRepository := repos.NewBaseDataRepository(tracedDB)
	tasksRepository := repos.NewTasksRepository(baseDataRepository, loggerFactory)
	redisdbOptions := config.NewRedisOptions(initializer)
	client, err := redisdb.NewRedisContext(redisdbOptions, tracer)
	if err != nil {
		return nil, err
	}
	aclRepository := repos.NewACLRepository(baseDataRepository, client, loggerFactory)
	snowflakeOptions := config.NewSnowflakeOptions(initializer)
	node, err := snowflake.NewSnowflake(snowflakeOptions)
	if err != nil {
		return nil, err
	}
	uidRepository := repos.NewUIDRepository(node)
	service := tasks.NewService(tasksRepository, loggerFactory, aclRepository, uidRepository)
	tasksHandler := handlers.NewTasksHandler(loggerFactory, service)
	quotesRepository := repos.NewQuotesRepository(tracedDB, loggerFactory)
	quotesService := quotes.NewService(quotesRepository, loggerFactory, uidRepository)
	quotesHandler := handlers.NewQuotesHandler(loggerFactory, quotesService)
	implementation := evcqrs.NewImplementation(tracedDB, loggerFactory)
	contextFactory := repos.NewContextFactory(loggerFactory)
	serverApp := newApp(tasksHandler, quotesHandler, tasksHandler, quotesHandler, implementation, loggerFactory, contextFactory, tracer)
	return serverApp, nil
}

func initializeAppInMem() (*app, error) {
	loggerFactory, err := lgr.NewLoggerFactory()
	if err != nil {
		return nil, err
	}
	tasksRepository := repos2.NewTasksRepository()
	aclRepository := repos2.NewACLRepository()
	initializer := config.NewInitializer(loggerFactory)
	options := config.NewSnowflakeOptions(initializer)
	node, err := snowflake.NewSnowflake(options)
	if err != nil {
		return nil, err
	}
	uidRepository := repos2.NewUIDRepository(node)
	service := tasks.NewService(tasksRepository, loggerFactory, aclRepository, uidRepository)
	tasksHandler := handlers.NewTasksHandler(loggerFactory, service)
	quotesRepository := repos2.NewQuotesRepository()
	quotesService := quotes.NewService(quotesRepository, loggerFactory, uidRepository)
	quotesHandler := handlers.NewQuotesHandler(loggerFactory, quotesService)
	implementation := inmem.NewImplementation()
	contextFactory := repos2.NewContextFactory()
	badTracer := inmem.NewBadTracer()
	serverApp := newApp(tasksHandler, quotesHandler, tasksHandler, quotesHandler, implementation, loggerFactory, contextFactory, badTracer)
	return serverApp, nil
}
